@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root { color-scheme: dark; }

  html, body { height: 100%; }
  html { scroll-behavior: smooth; }
  body {
    overflow-x: hidden;
    background: transparent;
    color: rgba(255, 255, 255, 0.92);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
      "Apple Color Emoji", "Segoe UI Emoji";
  }

  ::selection { background: rgba(56, 189, 248, 0.25); }

  :focus-visible {
    outline: 2px solid rgba(255, 255, 255, 0.35);
    outline-offset: 3px;
    border-radius: 10px;
  }

  /* Anchors land under sticky header */
  section[id] { scroll-margin-top: 88px; }

  a { text-decoration: none; }
}

@layer components {
  .glass {
    @apply rounded-2xl border border-white/10 bg-white/5 backdrop-blur;
    box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  }

  .glass-strong {
    @apply rounded-2xl border border-white/10 bg-slate-950/55 backdrop-blur;
    box-shadow: 0 12px 34px rgba(0,0,0,0.45);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-xl
      bg-gradient-to-r from-sky-400 to-fuchsia-400 px-5 py-3
      text-sm font-semibold text-slate-950 shadow-sm transition
      hover:opacity-90;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 rounded-xl
      border border-white/15 bg-white/5 px-5 py-3
      text-sm font-semibold text-slate-100 transition
      hover:bg-white/10;
  }

  .skip-link {
    @apply sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-[999]
      focus:rounded-xl focus:bg-slate-900 focus:px-4 focus:py-2 focus:text-sm focus:font-semibold focus:text-white;
  }

  .label { @apply text-sm font-medium text-slate-100; }

  .input {
    @apply mt-1 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2
      text-slate-100 placeholder:text-slate-400 outline-none transition
      focus:border-white/20 focus:bg-white/10;
  }

  .tag {
    @apply rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/75;
  }
}

/* ------------------------------
   Cinematic Scroll Reveal
-------------------------------- */

html.js .reveal {
  opacity: 0;
  transform: translateY(34px) scale(0.975);
  filter: blur(10px);
  transition:
    opacity 1350ms cubic-bezier(0.16, 1, 0.3, 1),
    transform 1350ms cubic-bezier(0.16, 1, 0.3, 1),
    filter 1350ms cubic-bezier(0.16, 1, 0.3, 1);
  transition-delay: var(--reveal-delay, 0ms);
  will-change: opacity, transform, filter;
}

html.js .reveal.is-visible {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* Optional: slightly slower on large screens (more “film” feel) */
@media (min-width: 1024px) {
  html.js .reveal {
    transition-duration: 1550ms;
  }
}

@media (prefers-reduced-motion: reduce) {
  html.js .reveal {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}
